/*! Copyright bookfromme */
webpackJsonp([4],{661:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var o={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);return o}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),i=o(0),s=r(i),u=o(697),d=r(u),f=o(824),p=r(f),m=o(828),y=r(m),b=o(44),v=(o(23),o(260)),h=r(v),g=o(142),k=r(g);o(890);var E=function(e){function t(){var e,o,r,a;n(this,t);for(var _=arguments.length,c=Array(_),i=0;i<_;i++)c[i]=arguments[i];return o=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={type:"cart"},a=o,l(r,a)}return _(t,e),c(t,[{key:"componentDidMount",value:function(){this.count<1&&this.setState({type:"orders"})}},{key:"render",value:function(){var e=this,t=this.props.book,o=(t.currentBookId,a(t,["currentBookId"]));return this.count=(0,k.default)((0,h.default)(o)).length,s.default.createElement("div",null,s.default.createElement("div",{className:"flex flex-center width-full flex-column",style:{paddingBottom:50,fontFamily:"RobotoRegular"}},s.default.createElement("img",{onClick:function(){e.props.history.push("/")},src:d.default,style:{width:100,height:100,marginBottom:10}})),s.default.createElement("div",{style:{fontFamily:"RobotoRegular"}},s.default.createElement("div",{className:"app-cart-___index__type-btns___1n7Va"},s.default.createElement("div",{onClick:function(){return e.setState({type:"cart"})},style:{background:"cart"===this.state.type&&"#5877ff",transform:"cart"===this.state.type&&"initial",color:"cart"===this.state.type&&"white"}},"КОРЗИНА"),s.default.createElement("div",{style:{background:"orders"===this.state.type&&"#5877ff",transform:"orders"===this.state.type&&"initial",color:"orders"===this.state.type&&"white"},onClick:function(){return e.setState({type:"orders"})}},"ВАШИ ЗАКАЗЫ")),"cart"===this.state.type&&s.default.createElement(p.default,{history:this.props.history}),"orders"===this.state.type&&s.default.createElement(y.default,{history:this.props.history})))}}]),t}(i.Component),x=function(e){return{book:e.book}};t.default=(0,b.connect)(x)(E)},697:function(e,t,o){e.exports=o.p+"logo-cbe772e898a116cd976ed4f4645c4869.png"},810:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(0),a=function(e){return e&&e.__esModule?e:{default:e}}(r);o(889);var n=function(e){return e.gift_wrap&&"digital"!==e.format?1e3:0},l={digital:2900,soft19:9900,soft23:11900,hard19:14900,hard23:16900,deluxe:39900,fumoney:99e3};t.default=function(e){var t=e.book,o=e.actions;if(!t)return null;var r=n(t);return a.default.createElement("div",{className:"flex full flex-column app-cart-components-___summary__r___2xJDD"},a.default.createElement("div",{className:"app-cart-components-___summary__elem___32j18"},a.default.createElement("div",{className:"flex space-between "},a.default.createElement("div",{style:{fontFamily:"RobotoRegular",color:"rgb(120,120,120)"}},"КНИГА"),a.default.createElement("div",{style:{fontFamily:"RobotoMedium"}},l[t.format]," тг"))),a.default.createElement("div",{className:"app-cart-components-___summary__elem___32j18"},a.default.createElement("div",{className:"flex space-between "},a.default.createElement("div",{style:{fontFamily:"RobotoRegular",color:"rgb(120,120,120)"}},"УПАКОВКА"),a.default.createElement("div",{style:{fontFamily:"RobotoMedium"}},r," ","тг"))),a.default.createElement("div",{className:"app-cart-components-___summary__elem___32j18 app-cart-components-___summary__price___KzQNl"},l[t.format]+r," тг"),a.default.createElement("div",{onClick:function(){o.deleteFromCache(t.id)},className:"flex flex-center app-cart-components-___summary__delete___xgAuD"},"Удалить из корзины"))}},823:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createHashid=void 0;var a=o(0),n=r(a);o(885);var l=o(260),_=r(l),c=o(142),i=(r(c),o(143)),s=r(i),u=o(141),d=o(55),f=function(e){return(0,_.default)(e.pages).filter(function(e){return"cover"===e.type})[0]},p={digital:"Цифровая версия",soft19:"Мягкий переплет",soft23:"Мягкий переплет",hard19:"Твердый переплет",hard23:"Твердый переплет",deluxe:"Deluxe",fumoney:"К черту деньги!"},m=t.createHashid=function(e){return new s.default("",10).encode(e)};t.default=function(e){var t=e.book,o=e.history,r=f(t).data;return n.default.createElement("div",{style:{padding:15},className:"flex full  app-cart-components-___book__container___l6haS"},n.default.createElement("div",{className:"flex app-cart-components-___book__r___21GXd",style:{background:r.background,color:r.text_color,position:"relative"}},n.default.createElement("div",{className:"app-cart-components-___book__korewok___-GV_L"}),n.default.createElement(u.Paspartu,{name:(0,d.getBookName)(t.book_name,t.name),page:f(t)})),n.default.createElement("div",{className:"flex flex-column  app-cart-components-___book__desc___1Y2cT"},n.default.createElement("div",{className:"app-cart-components-___book__book-type___3c3H9"},p[t.format]),n.default.createElement("div",{onClick:function(){var e=m(t.id);o.push("/books/"+e)},className:"app-cart-components-___book__edit___1xv7N"},"ИЗМЕНИТЬ")))}},824:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var o={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);return o}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),i=o(0),s=r(i),u=o(23),d=o(44),f=o(260),p=r(f),m=o(85),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(m),b=o(825),v=r(b),h=o(697),g=(r(h),o(142)),k=r(g),E=o(141),x={digital:2900,soft19:9900,soft23:11900,hard19:14900,hard23:16900,deluxe:39900,fumoney:99e3},w=function(e){function t(){var e,o,r,a;n(this,t);for(var _=arguments.length,c=Array(_),i=0;i<_;i++)c[i]=arguments[i];return o=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.getWrapPrice=function(e){return e.gift_wrap&&"digital"!==e.format?1e3:0},r.getTotal=function(e){return e.reduce(function(e,t){return x[t.format]+e+r.getWrapPrice(t)},0)},a=o,l(r,a)}return _(t,e),c(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=this.props.book,o=(t.currentBookId,a(t,["currentBookId"])),r=(0,k.default)((0,p.default)(o)),n=this.getTotal(r);return r.length<1?s.default.createElement("div",{className:"flex flex-center width-full flex-column",style:{paddingBottom:50}},s.default.createElement("div",{style:{margin:30,fontFamily:"RobotoMedium"}},"ВАША КОРЗИНА ПУСТА"),s.default.createElement(E.Button,{width:310,click:function(){e.props.history.push("/")}},"Найти подарок")):s.default.createElement("div",{className:"flex flex-center width-full flex-column",style:{paddingBottom:50}},r.map(function(t,o){return s.default.createElement("div",{key:o,className:"flex flex-center flex-column width-full"},s.default.createElement(v.default,{history:e.props.history,key:o,book:t,actions:e.props.actions}),s.default.createElement("div",{style:{height:1,width:"85%",background:"rgb(230,230,230)",marginLeft:"2%"}}))}),s.default.createElement("div",{className:"flex flex-end width-full",style:{height:100,margin:20}},s.default.createElement("div",{className:"flex flex-center space-between",style:{height:55,margin:20,width:250,padding:7,fontFamily:"RobotoRegular",color:"rgb(120,120,120)",fontSize:22,background:"rgb(240,240,240)",marginRight:"12%"}},"ИТОГО",s.default.createElement("div",{style:{fontFamily:"RobotoMedium",color:"black"}},n," тг"))),s.default.createElement(E.Button,{width:310,click:function(){e.props.history.push("/order")}},"Перейти к оплате"))}}]),t}(s.default.Component),N=function(e){return{book:e.book}},R=function(e){return{actions:(0,u.bindActionCreators)(y,e)}};t.default=(0,d.connect)(N,R)(w)},825:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(0),n=r(a),l=o(823),_=r(l),c=o(810),i=r(c);o(886),t.default=function(e){var t=e.book,o=e.history,r=e.actions;return n.default.createElement("div",{className:"width-full app-cart-components-___item__container___2i_2R"},n.default.createElement("div",{className:"width-full flex flex-center flex-wrap app-cart-components-___item__r___1Mp3F"},n.default.createElement("div",{className:"flex flex-center app-cart-components-___item__elem___1GxKu app-cart-components-___item__one___1VDwI"},n.default.createElement(_.default,{history:o,book:t})),n.default.createElement("div",{className:"flex flex-center app-cart-components-___item__elem___1GxKu app-cart-components-___item__two___3XuOJ"},n.default.createElement(i.default,{actions:r,book:t}))))}},826:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(0),n=r(a);o(887);var l=o(260),_=r(l),c=o(142),i=(r(c),o(55)),s=o(810),u=(r(s),o(141)),d=function(e){return(0,_.default)(e.pages).filter(function(e){return"cover"===e.type})[0]},f=function(e){return e.gift_wrap&&"digital"!==e.format?1e3:0},p={digital:"Цифровая версия",soft19:"Мягкий переплет",soft23:"Мягкий переплет",hard19:"Твердый переплет",hard23:"Твердый переплет",deluxe:"Deluxe",fumoney:"К черту деньги!"},m={digital:2900,soft19:9900,soft23:11900,hard19:14900,hard23:16900,deluxe:39900,fumoney:99e3};t.default=function(e){var t=e.book,o=(e.history,e.edit,d(t).data),r=f(t);return n.default.createElement("div",{style:{padding:15},className:"flex full  app-cart-components-___orderBooks__container___D_I8H"},n.default.createElement("div",{className:"flex app-cart-components-___orderBooks__r___Iy3N-",style:{background:o.background,color:o.text_color,position:"relative"}},n.default.createElement("div",{className:"app-cart-components-___orderBooks__korewok___23qCe"}),n.default.createElement(u.Paspartu,{name:(0,i.getBookName)(t.book_name,t.name),page:d(t)})),n.default.createElement("div",{className:"flex flex-column  app-cart-components-___orderBooks__desc___1p6BQ"},n.default.createElement("div",{className:"app-cart-components-___orderBooks__book-info___3tLFb"},n.default.createElement("div",{style:{marginBottom:"1px"}},p[t.format]),n.default.createElement("div",{className:"app-cart-components-___orderBooks__elem___3RDtq"},n.default.createElement("div",{className:"flex space-between "},n.default.createElement("div",{style:{fontFamily:"RobotoRegular",color:"rgb(120,120,120)"}},"КНИГА"),n.default.createElement("div",{style:{fontFamily:"RobotoMedium"}},m[t.format]," тг"))),n.default.createElement("div",{className:"app-cart-components-___orderBooks__elem___3RDtq"},n.default.createElement("div",{className:"flex space-between "},n.default.createElement("div",{style:{fontFamily:"RobotoRegular",color:"rgb(120,120,120)"}},"УПАКОВКА"),n.default.createElement("div",{style:{fontFamily:"RobotoMedium"}},r," ","тг"))),n.default.createElement("div",{className:"app-cart-components-___orderBooks__elem___3RDtq app-cart-components-___orderBooks__price___17A4I"},m[t.format]+r," тг"))))}},827:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(0),n=r(a),l=o(826),_=r(l);o(888),t.default=function(e){var t=e.order,o=(e.actions,t.orderDetails),r=o.orderInfo,a=(o.voucher,new Date(r.date)),l=t.orderDetails.price.total,c=t.orderDetails.price.discount;return n.default.createElement("div",{className:"width-full",style:{paddingTop:"7vh",display:"flex",flexDirection:"column",alignItems:"center",background:"rgba(142, 141, 141, 0.06)",padding:"20px 0",margin:"20px 0 40px 0"}},n.default.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",width:"100%"}},t.books.map(function(e,t){return n.default.createElement("div",{key:t,className:"flex flex-center",style:{margin:"0 0.5%"}},n.default.createElement(_.default,{book:e}))})),n.default.createElement("div",{style:{width:"73%",justifyContent:"flex-end",flexDirection:"column",alignItems:"flex-end"},className:"flex"},0!==c&&n.default.createElement("div",{className:"app-cart-components-___orderItem__elem___rskI_",style:{width:"200px",fontFamily:"RobotoMedium",fontSize:"1.3em",background:"#f0f0f0",padding:"0.5em",borderBottom:"1px solid rgb(181, 179, 179)"}},n.default.createElement("div",{className:"app-cart-components-___orderItem__type___2RjsH"},"СУММА"),n.default.createElement("div",null,l+c)),0!==c&&n.default.createElement("div",{className:"app-cart-components-___orderItem__elem___rskI_",style:{width:"200px",fontFamily:"RobotoMedium",fontSize:"1.3em",background:"#f0f0f0",padding:"0.5em",borderBottom:"1px solid rgb(181, 179, 179)"}},n.default.createElement("div",{className:"app-cart-components-___orderItem__type___2RjsH"},"СКИДКА"),n.default.createElement("div",null,c)),n.default.createElement("div",{className:"app-cart-components-___orderItem__elem___rskI_",style:{width:"200px",fontFamily:"RobotoMedium",fontSize:"1.3em",background:"#f0f0f0",padding:"0.5em"}},n.default.createElement("div",{className:"app-cart-components-___orderItem__type___2RjsH"},"ИТОГО"),n.default.createElement("div",null,l))),n.default.createElement("hr",{style:{width:"73%",margin:"15px 0"}}),n.default.createElement("div",{className:"app-cart-components-___orderItem__order-info___3lAeh"},n.default.createElement("div",{style:{fontFamily:"RobotoRegular"}},n.default.createElement("div",{style:{textAlign:"right",fontFamily:"RobotoMedium",fontSize:"1.3em",marginBottom:"1em"}},"Информация о заказе"),n.default.createElement("div",{className:"app-cart-components-___orderItem__elem___rskI_"},n.default.createElement("div",{className:"app-cart-components-___orderItem__type___2RjsH"},"Имя"),n.default.createElement("div",null,r.name)),n.default.createElement("div",{className:"app-cart-components-___orderItem__elem___rskI_"},n.default.createElement("div",{className:"app-cart-components-___orderItem__type___2RjsH"},"Адрес"),n.default.createElement("div",null,r.address)),n.default.createElement("div",{className:"app-cart-components-___orderItem__elem___rskI_"},n.default.createElement("div",{className:"app-cart-components-___orderItem__type___2RjsH"},"Номер заказа"),n.default.createElement("div",null,t.orderId)),n.default.createElement("div",{className:"app-cart-components-___orderItem__elem___rskI_"},n.default.createElement("div",{className:"app-cart-components-___orderItem__type___2RjsH"},"Время заказа"),n.default.createElement("div",null,a.getHours()+":"+a.getMinutes()+", ",a.getDate()<10?"0"+a.getDate():a.getDate(),".",a.getMonth()<9?"0"+(a.getMonth()+1):a.getMonth()+1,".",a.getFullYear())))))}},828:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var o={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);return o}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),i=o(0),s=r(i),u=o(23),d=o(44),f=o(85),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(f),m=o(827),y=r(m),b=o(142),v=r(b),h=o(260),g=r(h),k=function(e){function t(){return n(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,e),c(t,[{key:"render",value:function(){var e=this,t=a(this.props.order,[]),o=(t.deleted,a(t,["deleted"])),r=(0,v.default)((0,g.default)(o));return r.length<1?s.default.createElement("div",{className:"flex flex-center",style:{marginTop:"50px",fontFamily:"RobotoRegular"}},"Вы еще не делали заказов"):s.default.createElement("div",{style:{fontFamily:"RobotoRegular"}},r.map(function(t,o){return s.default.createElement(y.default,{key:o,order:t,actions:e.props.actions})}))}}]),t}(i.Component),E=function(e){return{order:e.orderCache}},x=function(e){return{actions:(0,u.bindActionCreators)(p,e)}};t.default=(0,d.connect)(E,x)(k)},885:function(e,t){e.exports={r:"app-cart-components-___book__r___21GXd",edit:"app-cart-components-___book__edit___1xv7N","book-type":"app-cart-components-___book__book-type___3c3H9",desc:"app-cart-components-___book__desc___1Y2cT",container:"app-cart-components-___book__container___l6haS",korewok:"app-cart-components-___book__korewok___-GV_L"}},886:function(e,t){e.exports={container:"app-cart-components-___item__container___2i_2R",r:"app-cart-components-___item__r___1Mp3F",elem:"app-cart-components-___item__elem___1GxKu",one:"app-cart-components-___item__one___1VDwI",two:"app-cart-components-___item__two___3XuOJ"}},887:function(e,t){e.exports={r:"app-cart-components-___orderBooks__r___Iy3N-","book-info":"app-cart-components-___orderBooks__book-info___3tLFb",desc:"app-cart-components-___orderBooks__desc___1p6BQ",elem:"app-cart-components-___orderBooks__elem___3RDtq",price:"app-cart-components-___orderBooks__price___17A4I",korewok:"app-cart-components-___orderBooks__korewok___23qCe",container:"app-cart-components-___orderBooks__container___D_I8H"}},888:function(e,t){e.exports={elem:"app-cart-components-___orderItem__elem___rskI_","order-info":"app-cart-components-___orderItem__order-info___3lAeh",type:"app-cart-components-___orderItem__type___2RjsH"}},889:function(e,t){e.exports={r:"app-cart-components-___summary__r___2xJDD",elem:"app-cart-components-___summary__elem___32j18",price:"app-cart-components-___summary__price___KzQNl",delete:"app-cart-components-___summary__delete___xgAuD"}},890:function(e,t){e.exports={"type-btns":"app-cart-___index__type-btns___1n7Va"}}});