/*! Copyright Ilyas Malgazhdarov */
webpackJsonp([1],{619:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var a={};for(var l in e)t.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(e,l)&&(a[l]=e[l]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.decodeHashid=void 0;var d=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),c=a(0),i=l(c);a(205);var f=a(203),s=l(f),m=a(12),p=a(21),_=a(674),g=l(_),v=a(27),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(v),E=a(645),y=l(E),h=a(646),k=l(h),x=a(204),I=l(x),M=a(206),O=l(M),P=t.decodeHashid=function(e){return new O.default("",10).decode(e)},j=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),d(t,[{key:"componentWillMount",value:function(){if(!this.props.location.pathname.match(/\/books\//)&&this.props.actions.genPages("1_42",157),"POP"===this.props.history.action&&!this.props.bookId){var e=this.props.location.pathname.replace(/\/books\//,"");e.length>2&&!e.match(/\/books/)&&(console.log(P(e)[0]),this.props.actions.getBook(P(e)[0]))}}},{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"componentWillUnmount",value:function(){this.props.actions.closeModal(),this.props.actions.cleanBuilder()}},{key:"render",value:function(){var e=this;console.log(this.props.osName);var t=this.props,a=t.bookId,l=t.book;console.log("my book",l);var o=[],r=void 0;if(l[a]){o=(0,g.default)(l[a].pages);var u=l[a],d=(u.pages,n(u,["pages"]));r=d}var c=o;return i.default.createElement("div",{style:{backgroundColor:"white",paddingBottom:50}},i.default.createElement(y.default,null),l[a]&&i.default.createElement("div",{className:"app-pages-___pages__root___1Roj8"},i.default.createElement(I.default,null),c.map(function(t,a){return i.default.createElement(s.default,{actions:e.props.actions,book:r,id:t.type,page:t,key:a})})),l[a]&&i.default.createElement(k.default,null))}}]),t}(c.Component),w=function(e){return{book:e.book,bookId:e.book.currentBookId,osName:e.osName}},N=function(e){return{actions:(0,m.bindActionCreators)(b,e)}};t.default=(0,p.connect)(w,N)(j)},620:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(0),n=function(e){return e&&e.__esModule?e:{default:e}}(l),o=a(119);t.default=function(e){var t=e.close,a=e.onSave;return n.default.createElement("div",{className:"flex width-full space-between",style:{padding:20,paddingTop:0,paddingBottom:0}},n.default.createElement(o.Button,{click:function(){return t()}},"Назад"),n.default.createElement(o.Button,{click:function(){return a()}},"Сохранить"))}},621:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(0),n=function(e){return e&&e.__esModule?e:{default:e}}(l);a(664),t.default=function(e){var t=e.children;return n.default.createElement("div",{className:"app-modal-builder-components-___text__r___3BNk4"},t)}},622:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(22),o=l(n),r=a(0),u=l(r);a(662);var d={"random-0.000556711302243551":{r:"app-modal-builder-components-___imageChooser__r___Kca4I",image:"app-modal-builder-components-___imageChooser__image___2qx6k",selected:"app-modal-builder-components-___imageChooser__selected___1yUA2"}},c=function(e,t){return!!e&&t.url==e.url};t.default=function(e){var t=e.images,a=e.select,l=e.page,n=e.selectedImage;return u.default.createElement("div",{className:"flex flex-center width-full app-modal-builder-components-___imageChooser__r___Kca4I"},t.map(function(e){return u.default.createElement("img",{onClick:function(){return a({image:e},l)},key:e.url,src:"http://localhost:4000"+e.url,className:(0,o.default)("image "+(c(n,e)?"selected":""),d)})}))}},624:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e};t.toSave=function(e){var t={};return t=""===e.input.value.trim()&&""!==e.select.value?{text:e.select.value}:""!==e.input.value.trim()?{text:e.input.value}:{text:null},l({selectedImage:e.selectedImage&&e.selectedImage.url},t)}},635:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),o=l(n),r=a(620),u=l(r);t.default=function(e){var t=(e.page,e.book,e.actions);return o.default.createElement("div",{className:"flex flex-column width-full"},o.default.createElement(u.default,{close:t.closeModal}))}},636:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),o=l(n),r=a(622),u=l(r),d=a(620),c=l(d),i=a(621),f=l(i);t.default=function(e){var t=e.page,a=e.book,l=e.actions,n=e.form;return o.default.createElement("div",{className:"flex flex-column width-full"},o.default.createElement(f.default,null,"Каким характером обладает ",a.name,"?"),o.default.createElement(u.default,{images:t.images,page:t,selectedImage:n.selectedImage,select:l.builderImage}),o.default.createElement("div",{style:{height:10}}),o.default.createElement(c.default,{close:l.closeModal,onSave:function(){return l.updatePage(t,{selectedImage:n.selectedImage&&n.selectedImage.url})}}))}},637:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),o=l(n),r=a(622),u=l(r),d=a(620),c=l(d);t.default=function(e){var t=e.page,a=(e.book,e.actions),l=e.form;return o.default.createElement("div",{className:"flex flex-column width-full"},o.default.createElement(u.default,{images:t.images,page:t,selectedImage:l.selectedImage,select:a.builderImage}),o.default.createElement(c.default,{close:a.closeModal,onSave:function(){return a.updatePage(t,{selectedImage:l.selectedImage&&l.selectedImage.url})}}))}},638:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),o=l(n),r=a(622),u=l(r),d=a(621),c=l(d),i=a(620),f=l(i);t.default=function(e){var t=e.page,a=(e.book,e.actions),l=e.form;return o.default.createElement("div",{className:"flex flex-column width-full"},o.default.createElement(c.default,null,"Выберите один из фрукт-фактов"),o.default.createElement(u.default,{images:t.images,page:t,selectedImage:l.selectedImage,select:a.builderImage}),o.default.createElement(f.default,{onSave:function(){return a.updatePage(t,{selectedImage:l.selectedImage&&l.selectedImage.url})},close:a.closeModal}))}},639:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),o=l(n),r=a(622),u=l(r),d=a(620),c=l(d),i=a(621),f=l(i),s=a(119),m=a(624),p=function(e){return["С пожеланиями, "+e,"С любовью, "+e,"На долгую память, "+e,"С уважением, "+e]};t.default=function(e){var t=e.page,a=e.book,l=e.actions,n=e.form;return o.default.createElement("div",{className:"flex flex-column width-full"},o.default.createElement(f.default,null,"Выберите один из вариантов"),o.default.createElement(u.default,{images:t.images,page:t,selectedImage:n.selectedImage,select:l.builderImage}),""===n.input.value.trim()&&o.default.createElement("div",{style:{padding:15,paddingBottom:10}},o.default.createElement(s.Select,{active:!0,values:p(a.sender_name),options:p(a.sender_name),field:n.select,fieldType:"intro",enter:l.builderInput})),o.default.createElement(f.default,null,"Или напишите свое пожелание"),o.default.createElement("div",{style:{padding:15,paddingTop:10}},o.default.createElement(s.Input,{placeholder:"Пожелание",field:n.input,maxLength:50,fieldType:"intro",enter:l.builderInput})),o.default.createElement(c.default,{onSave:function(){return l.updatePage(t,(0,m.toSave)(n))},close:l.closeModal}))}},640:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.maleE=t.femaleE=t.male=t.female=void 0;var n=a(0),o=l(n),r=a(621),u=l(r),d=a(71),c=l(d),i=a(620),f=l(i),s=a(120);a(663);var m=a(210),p=(l(m),t.female={"карьеристка":0,"умница":6,"звездочка":5,"гик":4,"домоседка":3,"пацанка":2,"спортсменка":1}),_=t.male={"карьерист":0,"геймер":1,"тусовщик":2,"экстремал":6,"романтик":5,"весельчак":4,"домосед":3},g=t.femaleE={"карьеристка":"сareerist","умница":"smartgirl","звездочка":"star","гик":"geek","домоседка":"homebody","пацанка":"tomgirl","спортсменка":"sport"},v=t.maleE={"карьерист":"careerist","геймер":"gamer","тусовщик":"partygoer","экстремал":"extremal","романтик":"romantic","весельчак":"soul","домосед":"homebody"};t.default=function(e){var t=e.page,a=e.book,l=e.actions,n=e.step,r=function(){l.rotateQualityTable(!1)},d=function(){l.rotateQualityTable(!0)},i=51.43*n,m={rotate:(0,s.spring)(i,{stiffness:250,damping:20})},b="male"===a.gender?_:p,E="male"===a.gender?v:g,y="male"===a.gender?"gendermale":"genderfemale",h=(0,c.default)(b)[n%7],k=E[h];return o.default.createElement("div",{className:"flex flex-column width-full flex-center relative"},o.default.createElement(u.default,null,"Как вы думаете кто из следующих персонажей, ",a.name,"?"),o.default.createElement("div",{className:"flex flex-center",style:{marginBottom:20,marginTop:20}},o.default.createElement("div",{onClick:r,style:{margin:10,marginRight:20}},"left"),o.default.createElement(s.Motion,{style:m},function(e){var a=e.rotate;return o.default.createElement("img",{onClick:function(e){e.preventDefault()},style:{borderRadius:"50%",height:"75%",width:"75%",transform:"rotate("+a+"deg)"},src:"http://localhost:4000"+t.primary_image.image.url})}),o.default.createElement("div",{onClick:d,style:{margin:10}},"right")),o.default.createElement("div",null,(0,c.default)(b)[n%7]),o.default.createElement(f.default,{onSave:function(){return l.updatePage(t,{text:k,gender:y})},close:l.closeModal}))}},641:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),o=l(n),r=a(620),u=l(r),d=a(621),c=l(d),i=a(119),f=a(624);t.default=function(e){var t=e.page,a=e.book,l=e.actions,n=e.form;return o.default.createElement("div",{className:"flex flex-column width-full"},o.default.createElement(c.default,null,"Что иногда может позволить себе ",a.name,"?"),""===n.input.value.trim()&&o.default.createElement("div",{style:{padding:15,paddingBottom:10,paddingTop:0}},o.default.createElement(i.Select,{active:!0,values:["Много спать","Опаздывать","Кричать"],options:["Много спать","Опаздывать","Кричать"],field:n.select,fieldType:"vice",enter:l.builderInput})),""===n.input.value.trim()&&o.default.createElement(c.default,null,"Или напишите свой вариант"),o.default.createElement("div",{style:{padding:15,paddingTop:0}},o.default.createElement(i.Input,{placeholder:"Плакать",field:n.input,maxLength:30,fieldType:"vice",enter:l.builderInput})),o.default.createElement(u.default,{onSave:function(){return l.updatePage(t,(0,f.toSave)(n))},close:l.closeModal}))}},642:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),o=l(n),r=a(620),u=l(r),d=a(621),c=l(d),i=a(119),f=a(624),s=function(e){return["Хороший друг","Всегда поможет в беде","male"===e?"Умен":"Умна","male"===e?"Скромен":"Скромна"]};t.default=function(e){var t=e.page,a=e.book,l=e.actions,n=e.form;return o.default.createElement("div",{className:"flex flex-column width-full"},o.default.createElement(c.default,null,"Каким положительным качеством обладает ",a.name,"?"),""===n.input.value.trim()&&o.default.createElement("div",{style:{padding:15,paddingBottom:10,paddingTop:0}},o.default.createElement(i.Select,{values:s(a.gender),options:s(a.gender),active:!0,field:n.select,fieldType:"virtue",enter:l.builderInput})),""===n.input.value.trim()&&o.default.createElement(c.default,null,"Или напишите свой вариант"),o.default.createElement("div",{style:{padding:15,paddingTop:0}},o.default.createElement(i.Input,{placeholder:"male"===a.gender?"Добрый":"Добрая",field:n.input,maxLength:25,fieldType:"virtue",enter:l.builderInput})),o.default.createElement(u.default,{onSave:function(){return l.updatePage(t,(0,f.toSave)(n))},close:l.closeModal}))}},643:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),o=l(n),r=a(622),u=l(r),d=a(620),c=l(d);t.default=function(e){var t=e.page,a=(e.book,e.actions),l=e.form;return o.default.createElement("div",{className:"flex flex-column width-full"},o.default.createElement(u.default,{images:t.images,page:t,selectedImage:l.selectedImage,select:a.builderImage}),o.default.createElement(c.default,{close:a.closeModal,onSave:function(){return a.updatePage(t,{selectedImage:l.selectedImage&&l.selectedImage.url})}}))}},644:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),o=l(n),r=a(622),u=l(r),d=a(620),c=l(d);t.default=function(e){var t=e.page,a=(e.book,e.actions),l=e.form;return o.default.createElement("div",{className:"flex flex-column width-full"},o.default.createElement(u.default,{images:t.images,page:t,selectedImage:l.selectedImage,select:a.builderImage}),o.default.createElement(c.default,{close:a.closeModal,onSave:function(){return a.updatePage(t,{selectedImage:l.selectedImage&&l.selectedImage.url})}}))}},645:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),o=l(n),r=a(119);a(661);var u=a(21),d=a(27),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(d),i=a(12),f=a(639),s=l(f),m=a(635),p=l(m),_=a(636),g=l(_),v=a(638),b=l(v),E=a(640),y=l(E),h=a(637),k=l(h),x=a(643),I=l(x),M=a(642),O=l(M),P=a(641),j=l(P),w=a(644),N=l(w),S=function(e,t,a,l,n){switch(e.type){case"intro":return o.default.createElement(s.default,{page:e,book:t,actions:a,form:l});case"brain":return o.default.createElement(p.default,{page:e,book:t,actions:a,form:l});case"coolPlace":return o.default.createElement(g.default,{page:e,book:t,actions:a,form:l});case"fruitDNA":return o.default.createElement(b.default,{page:e,book:t,actions:a,form:l});case"qualityTable":return o.default.createElement(y.default,{step:n,page:e,book:t,actions:a,form:l});case"easternWiseWord":return o.default.createElement(k.default,{page:e,book:t,actions:a,form:l});case"westernWiseWord":return o.default.createElement(I.default,{page:e,book:t,actions:a,form:l});case"wiseWord":return o.default.createElement(N.default,{page:e,book:t,actions:a,form:l});case"vice":return o.default.createElement(j.default,{page:e,book:t,actions:a,form:l});case"virtue":return o.default.createElement(O.default,{page:e,book:t,actions:a,form:l});default:return null}},T=function(e){e.stopPropagation()},C=function(e){var t=e.isOpen,a=e.page,l=e.book,n=e.actions,u=e.builder;return t?o.default.createElement(r.Background,{close:n.closeModal,zIndex:"20",isOpen:t},o.default.createElement("div",{onClick:T,className:"app-modal-builder-___builder__r___eWTjl"},S(a,l,n,u[a.type],u.qualityTableStep))):null},B=function(e){return{isOpen:e.modal.isOpen,page:e.modal.page,book:e.modal.book,builder:e.builder}},z=function(e){return{actions:(0,i.bindActionCreators)(c,e)}};t.default=(0,u.connect)(B,z)(C)},646:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),o=l(n);a(665);var r=a(666),u=(l(r),a(667)),d=l(u),c=a(668),i=(l(c),a(621)),f=l(i),s=a(119);t.default=function(e){return o.default.createElement("div",{className:"width-full flex flex-center flex-wrap app-pages-___book__r___2Vg7-"},o.default.createElement("div",{className:"flex flex-center app-pages-___book__book-form___2FJah"},o.default.createElement("img",{src:d.default,style:{width:400,height:400}})),o.default.createElement("div",{className:"flex flex-center flex-column app-pages-___book__book-form___2FJah app-pages-___book__form___3QJMq"},o.default.createElement(f.default,null,"Выберите один из вариантов"),o.default.createElement("div",{className:"flex flex-column",style:{alignItems:"flex-start",paddingLeft:10}},o.default.createElement("div",{className:"flex flex-center"},o.default.createElement("input",{className:"app-pages-___book__input___CRNjz",type:"radio",name:"gender",value:"digital"})," ","Цифровая версия книги",o.default.createElement("div",{style:{margin:20,fontSize:20,fontFamily:"RobotoMedium"}}," 2900 тг")),o.default.createElement("div",{className:"flex flex-center"},o.default.createElement("input",{className:"app-pages-___book__input___CRNjz",type:"radio",name:"gender",value:"soft"}),"Книга в мягком переплете",o.default.createElement("div",{style:{margin:20,fontSize:20,fontFamily:"RobotoMedium"}}," 9900 тг")),o.default.createElement("div",{className:"flex flex-center"},o.default.createElement("input",{className:"app-pages-___book__input___CRNjz",type:"radio",name:"gender",value:"hard"})," ","Книга в твердом переплете",o.default.createElement("div",{style:{margin:20,fontSize:20,fontFamily:"RobotoMedium"}}," 14900 тг")),o.default.createElement("div",{style:{height:20,alignSelf:"center"}}),o.default.createElement(s.Button,{click:function(){}},"Заказать книгу"))))}},661:function(e,t){e.exports={r:"app-modal-builder-___builder__r___eWTjl"}},662:function(e,t){e.exports={r:"app-modal-builder-components-___imageChooser__r___Kca4I",image:"app-modal-builder-components-___imageChooser__image___2qx6k",selected:"app-modal-builder-components-___imageChooser__selected___1yUA2"}},663:function(e,t){e.exports={pizza:"app-modal-builder-components-___qualityTable__pizza___2_tqu"}},664:function(e,t){e.exports={r:"app-modal-builder-components-___text__r___3BNk4"}},665:function(e,t){e.exports={r:"app-pages-___book__r___2Vg7-","book-form":"app-pages-___book__book-form___2FJah",input:"app-pages-___book__input___CRNjz",form:"app-pages-___book__form___3QJMq",book:"app-pages-___book__book___3dYJk"}},666:function(e,t,a){e.exports=a.p+"hard-09f1fabd4d6a36982a53e76bacff8e44.jpg"},667:function(e,t,a){e.exports=a.p+"soft-097b76205154d9a7c74da440d5ecf201.jpg"},668:function(e,t,a){e.exports=a.p+"soft1-2aae6b9ab1c248ff3a3962998eee6d32.jpg"},671:function(e,t,a){function l(e,t){return n(t,function(t){return e[t]})}var n=a(207);e.exports=l},674:function(e,t,a){function l(e){return null==e?[]:n(e,o(e))}var n=a(671),o=a(49);e.exports=l}});